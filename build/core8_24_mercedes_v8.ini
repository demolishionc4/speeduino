; Speeduino CORE8 Project Configuration File

[env:CORE8]
platform = ststm32
;platform = https://github.com/platformio/platform-ststm32.git
framework = arduino
board = black_f407zg
lib_deps = stm32duino/STM32duino RTC, greiman/SdFat
board_build.core = stm32
build_flags = 
    -std=gnu++11 
    -UBOARD_MAX_IO_PINS 
    -DENABLE_HWSERIAL2 
    -DENABLE_HWSERIAL3 
    -DUSBCON 
    -DHAL_PCD_MODULE_ENABLED 
    -DUSBD_USE_CDC 
    -DHAL_CAN_MODULE_ENABLED 
;-------CORE8 SETTINGS
    -DUSE_CORE8_VERSION=24
    -DPIN_WIRE_SDA=PB11
    -DPIN_WIRE_SCL=PB10
    -DPIN_SERIAL_RX=PA10
    -DPIN_SERIAL_TX=PA9
    -DDASH_CAN=0
    -DUSE_SPI_EEPROM
    -DUSE_I2C_BARO
    -DUSE_CAN_DASH

;-------PIN Config - GENERAL
    -DLED_RUNNING=PG9
    -DLED_WARNING=PG10
    -DLED_ALERT=PG11
    -DLED_COMS=PG12

;-------PIN Config - TRIGGER
    -DPIN_TRIGGER_1=PE2
    -DPIN_TRIGGER_2=PE3
    ;-DPIN_TRIGGER_3=PE4
    ;-DPIN_TRIGGER_VSS=PE5

;-------PIN Config - INJ
    -DPIN_INJECTOR_1=PF13
    -DPIN_INJECTOR_2=PF14
    -DPIN_INJECTOR_3=PD8
    -DPIN_INJECTOR_4=PD9
    -DPIN_INJECTOR_5=PD10
    -DPIN_INJECTOR_6=PD11
    -DPIN_INJECTOR_7=PD12
    -DPIN_INJECTOR_8=PD13

;-------PIN Config - COIL
    -DPIN_COIL_1=PE15
    -DPIN_COIL_5=PE14
    -DPIN_COIL_4=PE13
    -DPIN_COIL_2=PE12
    -DPIN_COIL_6=PE11
    -DPIN_COIL_3=PF15
    -DPIN_COIL_7=PG0
    -DPIN_COIL_8=PG1

;-------PIN Config - ANALOG
    -DPIN_BAT=PA0
    -DPIN_CLT=PA4
    -DPIN_IAT=PA3
    -DPIN_TPS=PA1
    -DPIN_O2=PC1
    ;-DPIN_O2_2=PC2
    ;-DPIN_BARO=PC5
    -DPIN_MAP=PA5
    ;-DPIN_OILPRESSURE=PA7
    ;-DPIN_SPARETEMP1=PC4
    ;-DPIN_SPARETEMP=PC4
    ;-DPIN_FUELPRESSURE=PC4

;-------PIN Config - OTHER
    ;-DPIN_TACH=PD14
    ;-DPIN_IDLE_1=PD11
    ;-DPIN_IDLE_2=PG2
    ;-DPIN_BOOST=PD12
    ;-DPIN_FUELPUMP=PD15
    ;-DPIN_FAN=PG6
    ;-DPIN_LAUNCH=PF5
    ;-DPIN_STEPPERDIR=PG4
    ;-DPIN_STEPPERSTEP=PG5

upload_protocol = dfu
debug_tool = stlink
monitor_speed = 115200


[platformio]
src_dir=../speeduino
default_envs = CORE8
