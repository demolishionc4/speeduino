; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; http://docs.platformio.org/page/projectconf.html


[env:CORE8_23]
platform = ststm32
;platform = https://github.com/platformio/platform-ststm32.git
framework = arduino
board = black_f407zg
lib_deps = stm32duino/STM32duino RTC, greiman/SdFat
board_build.core = stm32
build_flags = 
    -std=gnu++11 
    -UBOARD_MAX_IO_PINS 
    -DENABLE_HWSERIAL2 
    -DENABLE_HWSERIAL3 
    -DUSBCON 
    -DHAL_PCD_MODULE_ENABLED 
    -DUSBD_USE_CDC 
    -DHAL_CAN_MODULE_ENABLED 
    ;CORE8 SETTINGS
    -DUSE_CORE8_VERSION=23 ;23 = earlier version with SPI on PB12, 24 = later version with SPI on PD6
    -DLED_RUNNING=PG9
    -DLED_WARNING=PG10
    -DLED_ALERT=PG11
    -DLED_COMS=PG12
    -DPIN_WIRE_SDA=PB11
    -DPIN_WIRE_SCL=PB10
    -DPIN_SERIAL_RX=PA10
    -DPIN_SERIAL_TX=PA9
    -DUSE_SPI_EEPROM
    -DUSE_I2C_BARO
    -DUSE_CAN_DASH
upload_protocol = stlink
debug_tool = stlink
monitor_speed = 115200


[env:CORE8_24c]
platform = ststm32
;platform = https://github.com/platformio/platform-ststm32.git
framework = arduino
board = black_f407zg
lib_deps = stm32duino/STM32duino RTC, greiman/SdFat
board_build.core = stm32
build_flags = 
    -std=gnu++11 
    -UBOARD_MAX_IO_PINS 
    -DENABLE_HWSERIAL2 
    -DENABLE_HWSERIAL3 
    -DUSBCON 
    -DHAL_PCD_MODULE_ENABLED 
    -DUSBD_USE_CDC 
    -DHAL_CAN_MODULE_ENABLED 
    ;CORE8 SETTINGS
    -DUSE_CORE8_VERSION=24 ;23 = earlier version with SPI on PB12, 24 = later version with SPI on PD6
    -DLED_RUNNING=PG9
    -DLED_WARNING=PG10
    -DLED_ALERT=PG11
    -DLED_COMS=PG12
    -DPIN_WIRE_SDA=PB11
    -DPIN_WIRE_SCL=PB10
    -DPIN_SERIAL_RX=PA10
    -DPIN_SERIAL_TX=PA9
    -DUSE_SPI_EEPROM
    -DUSE_I2C_BARO
    -DUSE_CAN_DASH
upload_protocol = stlink
debug_tool = stlink
monitor_speed = 115200

[env:CORE8_24d]
platform = ststm32
;platform = https://github.com/platformio/platform-ststm32.git
framework = arduino
board = black_f407zg
lib_deps = stm32duino/STM32duino RTC, greiman/SdFat
board_build.core = stm32
build_flags = 
    -std=gnu++11 
    -UBOARD_MAX_IO_PINS 
    -DENABLE_HWSERIAL2 
    -DENABLE_HWSERIAL3 
    -DUSBCON 
    -DHAL_PCD_MODULE_ENABLED 
    -DUSBD_USE_CDC 
    -DHAL_CAN_MODULE_ENABLED 
    ;CORE8 SETTINGS
    -DUSE_CORE8_VERSION=24 ;23 = earlier version with SPI on PB12, 24 = later version with SPI on PD6
    -DLED_RUNNING=PG10
    -DLED_WARNING=PG11
    -DLED_ALERT=PG12
    -DLED_COMS=PG13
    -DPIN_WIRE_SDA=PB11
    -DPIN_WIRE_SCL=PB10
    -DPIN_SERIAL_RX=PA10
    -DPIN_SERIAL_TX=PA9
    -DUSE_SPI_EEPROM
    -DUSE_I2C_BARO
    -DUSE_CAN_DASH
upload_protocol = stlink
debug_tool = stlink
monitor_speed = 115200


[platformio]
src_dir=speeduino
;default_envs = CORE8_24d
